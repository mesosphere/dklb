FROM gcr.io/distroless/static:a4fd5de337e31911aeee2ad5248284cebeb6a6f4

# Use the pre-built binary in "build/dklb" (i.e. the one generated by running "make build").
# This is done so we can take advantage of local cache directories, and makes skaffold re-deploy the application only when recompiled.
COPY build/dklb /dklb

ENV CLUSTER_NAME ""
ENV POD_NAME ""
ENV POD_NAMESPACE ""
EXPOSE 10250

CMD ["/dklb", "-h"]
